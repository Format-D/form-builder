(()=>{var Z=Object.create;var g=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var te=Object.getPrototypeOf,re=Object.prototype.hasOwnProperty;var i=(e,t)=>()=>(e&&(t=e(e=0)),t);var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var N=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ee(t))!re.call(e,s)&&s!==r&&g(e,s,{get:()=>t[s],enumerable:!(o=A(t,s))||o.enumerable});return e};var d=(e,t,r)=>(r=e!=null?Z(te(e)):{},N(t||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),oe=e=>N(g({},"__esModule",{value:!0}),e),w=(e,t,r,o)=>{for(var s=o>1?void 0:o?A(t,r):t,a=e.length-1,p;a>=0;a--)(p=e[a])&&(s=(o?p(t,r,s):p(s))||s);return o&&s&&g(t,r,s),s};var C=i(()=>{});var O=i(()=>{C()});function n(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var c=i(()=>{});var S=i(()=>{});var I=i(()=>{});var x=i(()=>{S();I()});var R=i(()=>{x()});var W=i(()=>{x();R()});var j,F=i(()=>{O();c();W();j=n("manifest")});var K=u((je,E)=>{c();E.exports=n("vendor")().reactRedux});var B=u((Ee,v)=>{c();v.exports=n("NeosProjectPackages")().ReactUiComponents});var T=u((ve,M)=>{c();M.exports=n("vendor")().React});var $=u((Me,V)=>{c();V.exports=n("NeosProjectPackages")().NeosUiDecorators});var k=u((Ve,U)=>{c();U.exports=n("NeosProjectPackages")().NeosUiReduxStore});var L,Y,y,q,b,H,f,z=i(()=>{L=d(K()),Y=d(B()),y=d(T()),q=d($()),b=d(k()),H=e=>{if(typeof e!="string")return console.error("`contextPath` must be a string!"),null;let[t,r]=e.split("@");return t.length===0?null:`${t.substr(0,t.lastIndexOf("/"))}@${r}`},f=class extends y.PureComponent{constructor(){super(...arguments);this.handleOnSelect=r=>{this.props.executeCommand("placeholderInsert",r)}}render(){let[r,o]=H(H(this.props.focusedNode.contextPath)).split("@"),s=`${r}/elements@${o}`,a=this.props.nodesByContextPath[s];if(!a)return null;let p=a.children.map(l=>this.props.nodesByContextPath[l.contextPath]).map(l=>({value:l.properties.identifier||l.identifier,label:l.properties.label||l.properties.identifier||l.identifier}));if(p.length===0)return null;let X=this.props.i18nRegistry.translate("Neos.Form.Builder:Main:placeholder","Insert placeholder");return y.default.createElement(Y.SelectBox,{placeholder:X,options:p,onValueChange:this.handleOnSelect,value:null})}};f=w([(0,L.connect)(e=>({nodesByContextPath:b.selectors.CR.Nodes.nodesByContextPathSelector(e),focusedNode:b.selectors.CR.Nodes.focusedSelector(e)})),(0,q.neos)(e=>({i18nRegistry:e.get("i18n"),nodeTypeRegistry:e.get("@neos-project/neos-ui-contentrepository")}))],f)});var G=u((He,D)=>{c();D.exports=n("vendor")().CkEditor5});var m,P,h,J=i(()=>{m=d(G()),P=class extends m.Command{execute(t){let r=this.editor.model,s=r.document.selection,a=new m.ModelText("{"+t+"}");r.insertContent(a,s)}},h=class extends m.Plugin{static get pluginName(){return"PlaceholderInsert"}init(){this.editor.commands.add("placeholderInsert",new P(this.editor))}}});var ie={};var ne,Q=i(()=>{F();z();J();ne=(e,t)=>(r,o)=>!t||t(o.editorOptions,o)?(r.plugins=r.plugins||[],{...r,plugins:[...r.plugins??[],e]}):r;j("Neos.Form.Builder:PlaceholderInsert",{},e=>{e.get("ckEditor5").get("richtextToolbar").set("placeholderInsertt",{component:f,isVisible:o=>o?.formatting?.placeholderInsert}),e.get("ckEditor5").get("config").set("placeholderInsert",ne(h,o=>o?.formatting?.placeholderInsert))})});Q();})();
//# sourceMappingURL=Plugin.js.map
